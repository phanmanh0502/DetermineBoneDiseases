<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">

<head>
	<meta charset="UTF-8">
	<title>Determine Bone Diseases</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script type="text/javascript" src="js/main.js"></script>
	<style type="text/css">
		.tableStyle {
			border: 1px solid black;
		}

		input,
		select {
			font-size: 18px;
		}
		tr.hearder {
			border: 1px solid black;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<script th:inline="javascript">
		var real_data = /*[[${listSymptom}]]*/'noValue';
		$(document).ready(function () {
			$("#nameInput").autocomplete({
				minLength: 1,
				source: real_data,
				select: function (e, ui) {
					document.getElementsByName("name").value = ui.item.value;
					return ui.item.value;
				}
			})
		});
	</script>
</head>

<body>

	<div layout:fragment="content">
		<div style="width: 20%; float:left"></div>
		<div style="width: 80%; float:right">
			<div style="height: 80px;"></div>
			<form th:action="@{/addSymptomInView}" th:object="${Symptom}" method="POST" id="symptomForm">
			<label>
				<h2>Thêm triệu chứng<h2>
			</label>
				<div class="input-group mb-3">
					<div>
						<label for="nameInput">Tên Triệu Chứng: &emsp; &ensp;</label><input id="nameInput" th:field="*{name}"  />
						<span th:field="*{name}" id = "nameOutput" ></span>
					</div>
				</div>
				<br>
				<div>
					<label>Độ Tương Đồng(0-1) : </label>
					<input type="text" id="similarity" name="similarity" th:field="*{similarity}" class="form-control"
						aria-describedby="basic-addon3">
					<div th:if="${similarityError}" th:utext="${similarityError}" style="color:red;font-style:italic;">
					</div>
				</div><br>
				<button type="submit" class="btn btn-primary">Thêm triệu chứng</button>
			</form>
			<label>
				<h4>Danh sách triệu chứng và độ tương đồng<h4>
			</label>
			<form form th:action="@{/diseasePrediction}" th:object="${listSymptomSession}" method="POST">
				<table class="tableStyle">
					<tr class="hearder">
						<td width="200px" scope="col">Triệu Chứng</th>
						<td width="200px" scope="col">Độ Tương Đồng</th>
					</tr>
					<tr th:each="symptom : ${listSymptomSession}">
						</th>
						<td scope="row" th:utext="${symptom.name}">...</td>
						<td scope="row" th:utext="${symptom.similarity}">...</td>
					</tr>
				</table>
				<br>
				<button type="submit" class="btn btn-primary">dự đoán kết quả<br></button>
			</form>
			<div th:if="${listDisease!=null and !listDisease.empty}">
				<label>
					<h4>Chuẩn đoán<h4>
				</label>
				<table class="tableStyle">
					<tr class="hearder">
						<th align = "left" width="200px">Tên bệnh</th>
						<th align = "left" width="200px">Tỉ lệ </th>
						<th align = "left" width="250px">Phương pháp chữa trị</th>
					</tr>
					<tr th:each="disease : ${listDisease}">
						<td scope="row" th:utext="${disease.name}">...</td>
						<td scope="row" th:utext="${disease.percentage}">...</td>
						<td scope="row" th:utext="${disease.cureMedthod}">...</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</body>

</html>